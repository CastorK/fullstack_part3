{"version":3,"sources":["components/FilterBlock.js","services/phonebookService.js","components/AddBlock.js","components/NumberBlock.js","components/NotificationBlock.js","App.js","index.js"],"names":["FilterBlock","_ref","persons","setFilteredPersons","_useState","useState","_useState2","Object","slicedToArray","filterStr","setFilterStr","react_default","a","createElement","value","onChange","event","newFilterStr","target","toLowerCase","filter","p","name","includes","baseUrl","phonebookService","axios","get","then","response","data","post","put","concat","id","delete","AddBlock","props","newName","setNewName","_useState3","_useState4","newNumber","setNewNumber","handleChange","newPersons","added","setPersonsAndFilteredPersons","showNotification","onSubmit","preventDefault","newPerson","number","some","person","confirmMsg","window","confirm","existingPerson","find","objectSpread","map","catch","type","NumberBlock","filteredPersons","removePerson","key","onClick","deleteUser","Notification","notification","msg","notificationStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","color","style","className","App","setPersons","_useState5","_useState6","setNotification","setTimeout","useEffect","allPersons","NotificationBlock","components_FilterBlock","components_AddBlock","components_NumberBlock","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.0bb1c77b.chunk.js","sourcesContent":["import React, {useState} from 'react'\n\nconst FilterBlock = ({persons, setFilteredPersons}) => {\n    const [ filterStr, setFilterStr] = useState('')\n    const handleFilterChange = (event) => {\n        const newFilterStr = event.target.value.toLowerCase()\n        setFilterStr(newFilterStr)\n        setFilteredPersons(persons.filter( p => p.name.toLowerCase().includes(newFilterStr)))\n    }\n\n    return (\n        <div>\n            <h3>Rajaa näytettäviä</h3>\n            <input value={filterStr} onChange={handleFilterChange} />\n        </div>\n    )\n}\n\nexport default FilterBlock","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAllPersons = () => axios.get(baseUrl).then(response => response.data)\nconst addPerson = (data) => axios.post(baseUrl, data).then(response => response.data)\nconst updatePerson = (data) => axios.put(`${baseUrl}/${data.id}`, data).then(response => response.data)\nconst deletePerson = (id) => axios.delete(`${baseUrl}/${id}`).then(response => response)\n\nexport default { getAllPersons, addPerson, updatePerson, deletePerson }","import React, {useState} from 'react'\nimport phonebookService from '../services/phonebookService'\n\nconst AddBlock = (props) => {\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n\n    const handleNameChange = (event) => setNewName(event.target.value)\n    const handleNumberChange = (event) => setNewNumber(event.target.value)\n    \n    const handleChange = (newPersons, added) => {\n        props.setPersonsAndFilteredPersons(newPersons)\n        props.showNotification( added ? `Added ${newName}` : `Updated ${newName}`, 'success')\n        setNewName('')\n        setNewNumber('')\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        const newPerson = {\n            'name': newName,\n            'number': newNumber\n        }\n        if (props.persons.some(person => person.name === newPerson.name)) {\n            const confirmMsg = `${newPerson.name} is already added to phonebook. Do you want to replace the old number with ${newPerson.number}?`\n            if (window.confirm(confirmMsg)) {\n                const existingPerson = props.persons.find(p => p.name === newPerson.name)\n                phonebookService\n                    .updatePerson({...existingPerson, name:newPerson.name, number:newPerson.number })\n                    .then( data => handleChange(props.persons.map( p => p.id !== data.id ? p : data, false)) )\n                    .catch( props.showNotification(`Person ${newPerson.name} not found!`, 'fail') )\n            }\n        } else {\n            phonebookService\n                .addPerson(newPerson)\n                .then( response => {\n                    const newPersons = props.persons.concat(response)\n                    handleChange(newPersons, true) \n                })\n                .catch(props.showNotification(`Adding ${newPerson.name} failed!`, 'fail'))\n        }\n    }\n\n    return (\n        <div>\n            <h3>Lisää uusi</h3>\n            <form onSubmit={addPerson}>\n                <div>\n                    nimi: <input onChange={handleNameChange} value={newName} /><br/>\n                    numero: <input onChange={handleNumberChange} value={newNumber} />\n                </div>\n                <div>\n                    <button type=\"submit\">lisää</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default AddBlock","import React from 'react'\nimport phonebookService from '../services/phonebookService'\n\nconst NumberBlock = ({filteredPersons, removePerson, showNotification}) => {\n  const deleteUser = (person) => {\n    if (window.confirm(`Are you sure you want to delete ${person.name}`)) {\n      phonebookService\n        .deletePerson(person.id)\n        .then( response => {\n          removePerson(person.id) \n          showNotification(`Successfully removed ${person.name}`, 'success')\n        })\n        .catch(showNotification(`Removing ${person.name} failed`, 'fail'))\n\n    }\n  }\n\n  return (\n    <div>\n      <h3>Numerot</h3>\n      <ul>\n        {filteredPersons.map( person => <li key={person.id}>{person.name} {person.number} <button onClick={ () => deleteUser(person) }>Delete</button></li> )}\n      </ul>\n    </div>\n  )\n}\nexport default NumberBlock","import React from 'react'\n\nconst Notification = ({notification}) => {\n  if ( !notification.msg ) {\n    return null\n  }\n\n  const notificationStyle = {\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  switch (notification.type) {\n    case 'success': notificationStyle.color = 'green'; break;\n    case 'fail': notificationStyle.color = 'red'; break;\n    default: notificationStyle.color = 'blue'; break;\n  }\n\n  return (\n    <div style={notificationStyle} className=\"notification\">{ notification.msg }</div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport FilterBlock from './components/FilterBlock'\nimport AddBlock from './components/AddBlock'\nimport NumberBlock from './components/NumberBlock'\nimport Notification from './components/NotificationBlock'\nimport phonebookService from './services/phonebookService'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ filteredPersons, setFilteredPersons ] = useState(persons)\n  const [ notification, setNotification ] = useState({'msg': '', 'type': ''})\n\n  const setPersonsAndFilteredPersons = (data) => {\n    setPersons(data)\n    setFilteredPersons(data)\n  }\n\n  const removePerson = id => {\n    setPersons(persons.filter(p => p.id !== id))\n    setFilteredPersons(persons.filter(p => p.id !== id))\n  }\n\n  const showNotification = (msg, type) => {\n    setNotification({'msg': msg, 'type': type})\n    setTimeout(() => {\n      setNotification({'msg': '', 'type': ''})\n    }, 3000)\n  }\n\n  useEffect(() => {\n    phonebookService.getAllPersons()\n      .then( allPersons => {\n        setPersonsAndFilteredPersons(allPersons)\n      })\n  }, [])\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n\n      <Notification notification={notification}/>\n\n      <FilterBlock persons={persons} setFilteredPersons={setFilteredPersons} />\n\n      <AddBlock persons={persons} setPersonsAndFilteredPersons={setPersonsAndFilteredPersons} showNotification={showNotification}/>\n\n      <NumberBlock filteredPersons={filteredPersons} removePerson={removePerson} showNotification={showNotification}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}